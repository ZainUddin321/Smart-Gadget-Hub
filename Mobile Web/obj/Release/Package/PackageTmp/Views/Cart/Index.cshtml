@model IEnumerable<Mobile_Web.Models.Cart_Model>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<section class="cart-section">
    <center><h1 class="mb-5">Your Cart</h1></center>
    @if (Model.Count() > 0)
        {
        int total_amount = 0;
        <div class="container">
            <div class="cart-box p-0 pb-0 mb-2">
                <div class="row text-center">
                    <div class="col-md-3 col-sm-12">
                    </div>
                    <div class="col-md-3">
                        <h4>Product</h4>
                    </div>
                    <div class="col-md-3"> <h4>Price</h4> </div>
                    <div class="col-md-3"></div>
                </div>
            </div>
        </div>
        foreach (var item in Model)
        {
            <div class="container mb-4">
                <div class="cart-box">
                    <div class="row text-center">
                        <div class="col-md-3 col-sm-12">
                            <img src="@Html.DisplayFor(modelItem => item.image)" class="cimg img-fluid img-thumbnail">
                        </div>
                        <div class="col-md-3 text-md-start text-dark  pt-md-4">
                            <h1>@Html.DisplayFor(modelItem => item.product_name)</h1>
                            <p class="text-black-50">@Html.DisplayFor(modelItem => item.product_type)</p>
                            <p class="text-primary"><span class="text-black-50">Purchasing Plan</span>: @Html.DisplayFor(modelItem => item.payment_method)</p>
                        </div>
                        <div class="col-md-3 text-primary pt-md-4"> <h1>$@Html.DisplayFor(modelItem => item.price)</h1> </div>
                        <div class="col-md-3 pt-md-4 mt-2">
                            <a class="btn btn-outline-danger" href="@Url.Action("deleteCart", "Cart", new { id = @Html.DisplayFor(modelItem => item.product_id) })"> <i class="far fa-trash-alt"></i> </a>
                        </div>
                    </div>
                </div>
            </div>
            total_amount = total_amount + Int32.Parse(@Html.DisplayFor(modelItem => item.price).ToString());
        }
        <div class="container">
            <div class="cart-box p-0 pb-0 mb-2">
                <div class="row text-center">
                    <div class="col-md-6">
                        <h4>Order now</h4>
                    </div>
                    <div class="col-md-6"> <h4>Total Amount:<span class="text-primary"> $@total_amount</span></h4> </div>
                </div>
            </div>
        </div>
    }
    else
    {
        <div class="container">
            <div class="empty-cart">
                <div class="row text-center">
                    <h3 style="color:red">Your Cart is Empty righnow.</h3>
                    <p style="color:red;"><u><a style="color:red;text-decoration: none" href="~/Home/Accessories">Click here</a></u> to buy your favourite stuff from Accessories now.</p>
                </div>
            </div>
        </div>
    }
</section>
